[gd_scene load_steps=59 format=3 uid="uid://bj0wvn5ostyd2"]

[ext_resource type="Texture2D" uid="uid://c5qhrk0rbvm7f" path="res://character/without_sword/idle/1.png" id="1_0jmfj"]
[ext_resource type="Script" path="res://character/character.gd" id="1_armaa"]
[ext_resource type="Texture2D" uid="uid://clc7uarjgs5ex" path="res://character/with_sword/air_attack_1/1.png" id="2_jydow"]
[ext_resource type="Texture2D" uid="uid://bgrlskmqfawqt" path="res://character/without_sword/fall/1.png" id="2_xhcws"]
[ext_resource type="Texture2D" uid="uid://40ivig0u8ovc" path="res://character/without_sword/idle/2.png" id="2_yolw0"]
[ext_resource type="Texture2D" uid="uid://begyyj2vob7u7" path="res://character/with_sword/fall/1.png" id="3_eo21x"]
[ext_resource type="Texture2D" uid="uid://mvwhq46616fx" path="res://character/without_sword/idle/3.png" id="3_vmcch"]
[ext_resource type="Texture2D" uid="uid://pxt60oylisgm" path="res://character/with_sword/air_attack_1/2.png" id="3_xsqc7"]
[ext_resource type="Texture2D" uid="uid://bcqnngtpnvmxj" path="res://character/with_sword/air_attack_1/3.png" id="4_1ttnq"]
[ext_resource type="Texture2D" uid="uid://cxcw2oxd1w0lx" path="res://character/without_sword/idle/4.png" id="4_npvoq"]
[ext_resource type="Texture2D" uid="uid://jel7xqu2hwl0" path="res://character/with_sword/air_attack_2/1.png" id="5_p83on"]
[ext_resource type="Texture2D" uid="uid://dhl66lnt70nr5" path="res://character/without_sword/idle/5.png" id="5_qifsj"]
[ext_resource type="Texture2D" uid="uid://bf1ufodg0aex4" path="res://character/with_sword/air_attack_2/2.png" id="6_1ren4"]
[ext_resource type="Texture2D" uid="uid://djqk62p32h2n5" path="res://character/without_sword/jump/1.png" id="7_gmhy4"]
[ext_resource type="Texture2D" uid="uid://ocg377a6egb4" path="res://character/with_sword/air_attack_2/3.png" id="7_xprf3"]
[ext_resource type="Texture2D" uid="uid://1ffg3hcdiuq3" path="res://character/with_sword/attack_1/1.png" id="8_77ydh"]
[ext_resource type="Texture2D" uid="uid://cela1p8dxk8rp" path="res://character/without_sword/jump/2.png" id="8_b04y5"]
[ext_resource type="Texture2D" uid="uid://dqb5nrkorxwl8" path="res://character/with_sword/idle/1.png" id="8_kqgaj"]
[ext_resource type="Texture2D" uid="uid://bkbcth7do5khk" path="res://character/with_sword/idle/2.png" id="9_la8us"]
[ext_resource type="Texture2D" uid="uid://vicpcb000l40" path="res://character/without_sword/jump/3.png" id="9_ogo40"]
[ext_resource type="Texture2D" uid="uid://maqotv3amlov" path="res://character/with_sword/attack_1/2.png" id="9_srxpw"]
[ext_resource type="Texture2D" uid="uid://bu5h8cekqmqty" path="res://character/with_sword/idle/3.png" id="10_1dr77"]
[ext_resource type="Texture2D" uid="uid://4qt4ydf0hkc8" path="res://character/without_sword/run/1.png" id="10_1xr5s"]
[ext_resource type="Texture2D" uid="uid://yk5xf5pgbkl6" path="res://character/with_sword/attack_1/3.png" id="10_kdc3i"]
[ext_resource type="Texture2D" uid="uid://do0vwavrne170" path="res://character/without_sword/run/2.png" id="11_bjras"]
[ext_resource type="Texture2D" uid="uid://bwfnwqyvemeiv" path="res://character/with_sword/attack_2/1.png" id="11_shiax"]
[ext_resource type="Texture2D" uid="uid://5si7kkq3lit2" path="res://character/without_sword/land/1.png" id="11_tw65t"]
[ext_resource type="Texture2D" uid="uid://qgu4u5u2884g" path="res://character/with_sword/idle/4.png" id="11_yrhbd"]
[ext_resource type="Texture2D" uid="uid://bpprqlf2fwgb2" path="res://character/with_sword/idle/5.png" id="12_8ub0s"]
[ext_resource type="Texture2D" uid="uid://d45id7b1fmmg" path="res://character/without_sword/land/2.png" id="12_qjo3s"]
[ext_resource type="Texture2D" uid="uid://0afb88cv0ju8" path="res://character/with_sword/attack_2/2.png" id="12_rfqk6"]
[ext_resource type="Texture2D" uid="uid://bbs6fkpkl4oj4" path="res://character/without_sword/run/3.png" id="12_v8mav"]
[ext_resource type="Texture2D" uid="uid://gnxihojncyyw" path="res://character/without_sword/run/4.png" id="13_vsrft"]
[ext_resource type="Texture2D" uid="uid://bhoqqrxqawolj" path="res://character/with_sword/attack_2/3.png" id="13_xc66m"]
[ext_resource type="Texture2D" uid="uid://bf7y8eqoaaso3" path="res://character/without_sword/run/5.png" id="14_7bua8"]
[ext_resource type="Texture2D" uid="uid://b2r7x5dd7hf7p" path="res://character/with_sword/attack_3/1.png" id="14_xtjbi"]
[ext_resource type="Texture2D" uid="uid://m2sh4holksa2" path="res://character/without_sword/run/6.png" id="15_16vua"]
[ext_resource type="Texture2D" uid="uid://jdoqkjudi5mo" path="res://character/with_sword/attack_3/2.png" id="15_t5v4d"]
[ext_resource type="Texture2D" uid="uid://cf0rvuol7phqh" path="res://character/with_sword/attack_3/3.png" id="16_w4dr2"]
[ext_resource type="Texture2D" uid="uid://c45icd6yq3ats" path="res://character/with_sword/jump/1.png" id="17_m4878"]
[ext_resource type="Texture2D" uid="uid://cc08eoahbjjrm" path="res://character/with_sword/jump/2.png" id="18_vy40g"]
[ext_resource type="Texture2D" uid="uid://ddo2hg2e7jkrw" path="res://character/with_sword/jump/3.png" id="19_0uf1y"]
[ext_resource type="Script" path="res://character/character_texture.gd" id="19_74mvt"]
[ext_resource type="Texture2D" uid="uid://budn0itxnwiyr" path="res://character/with_sword/land/1.png" id="22_esf6v"]
[ext_resource type="Texture2D" uid="uid://mqiwef65xmjy" path="res://character/with_sword/land/2.png" id="23_ebxpj"]
[ext_resource type="Texture2D" uid="uid://d1vxvnhjwpq1o" path="res://character/with_sword/run/1.png" id="30_ajytf"]
[ext_resource type="Texture2D" uid="uid://cylkfn156tgx" path="res://character/with_sword/run/2.png" id="31_1dqd0"]
[ext_resource type="Texture2D" uid="uid://cucx1bfvo38wi" path="res://character/with_sword/run/3.png" id="32_3giai"]
[ext_resource type="Texture2D" uid="uid://behjwwas348b2" path="res://character/with_sword/run/4.png" id="33_4nev7"]
[ext_resource type="Texture2D" uid="uid://bk7jvpwlnd0sm" path="res://character/with_sword/run/5.png" id="34_d174i"]
[ext_resource type="Texture2D" uid="uid://c0iablljb7ucw" path="res://character/with_sword/run/6.png" id="35_vhsbn"]
[ext_resource type="Texture2D" uid="uid://bcfpxa8ry47xe" path="res://character/with_sword/throw_sword/1.png" id="51_kn3fp"]
[ext_resource type="Texture2D" uid="uid://dmvum0lyssb06" path="res://character/with_sword/throw_sword/2.png" id="52_x3y66"]
[ext_resource type="Texture2D" uid="uid://bev0dhx6nack3" path="res://character/with_sword/throw_sword/3.png" id="53_cp48a"]
[ext_resource type="Script" path="res://character/character_attack_area.gd" id="55_qkq8y"]

[sub_resource type="SpriteFrames" id="SpriteFrames_vvw5b"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_jydow")
}, {
"duration": 1.0,
"texture": ExtResource("3_xsqc7")
}, {
"duration": 1.0,
"texture": ExtResource("4_1ttnq")
}],
"loop": false,
"name": &"air_attack_1_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_p83on")
}, {
"duration": 1.0,
"texture": ExtResource("6_1ren4")
}, {
"duration": 1.0,
"texture": ExtResource("7_xprf3")
}],
"loop": false,
"name": &"air_attack_2_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_77ydh")
}, {
"duration": 1.0,
"texture": ExtResource("9_srxpw")
}, {
"duration": 1.0,
"texture": ExtResource("10_kdc3i")
}],
"loop": false,
"name": &"attack_1_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_shiax")
}, {
"duration": 1.0,
"texture": ExtResource("12_rfqk6")
}, {
"duration": 1.0,
"texture": ExtResource("13_xc66m")
}],
"loop": false,
"name": &"attack_2_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("14_xtjbi")
}, {
"duration": 1.0,
"texture": ExtResource("15_t5v4d")
}, {
"duration": 1.0,
"texture": ExtResource("16_w4dr2")
}],
"loop": false,
"name": &"attack_3_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_xhcws")
}],
"loop": false,
"name": &"fall",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_eo21x")
}],
"loop": false,
"name": &"fall_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_0jmfj")
}, {
"duration": 1.0,
"texture": ExtResource("2_yolw0")
}, {
"duration": 1.0,
"texture": ExtResource("3_vmcch")
}, {
"duration": 1.0,
"texture": ExtResource("4_npvoq")
}, {
"duration": 1.0,
"texture": ExtResource("5_qifsj")
}],
"loop": true,
"name": &"idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_kqgaj")
}, {
"duration": 1.0,
"texture": ExtResource("9_la8us")
}, {
"duration": 1.0,
"texture": ExtResource("10_1dr77")
}, {
"duration": 1.0,
"texture": ExtResource("11_yrhbd")
}, {
"duration": 1.0,
"texture": ExtResource("12_8ub0s")
}],
"loop": true,
"name": &"idle_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_gmhy4")
}, {
"duration": 1.0,
"texture": ExtResource("8_b04y5")
}, {
"duration": 1.0,
"texture": ExtResource("9_ogo40")
}],
"loop": false,
"name": &"jump",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("17_m4878")
}, {
"duration": 1.0,
"texture": ExtResource("18_vy40g")
}, {
"duration": 1.0,
"texture": ExtResource("19_0uf1y")
}],
"loop": false,
"name": &"jump_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_tw65t")
}, {
"duration": 1.0,
"texture": ExtResource("12_qjo3s")
}],
"loop": false,
"name": &"land",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("22_esf6v")
}, {
"duration": 1.0,
"texture": ExtResource("23_ebxpj")
}],
"loop": false,
"name": &"land_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_1xr5s")
}, {
"duration": 1.0,
"texture": ExtResource("11_bjras")
}, {
"duration": 1.0,
"texture": ExtResource("12_v8mav")
}, {
"duration": 1.0,
"texture": ExtResource("13_vsrft")
}, {
"duration": 1.0,
"texture": ExtResource("14_7bua8")
}, {
"duration": 1.0,
"texture": ExtResource("15_16vua")
}],
"loop": true,
"name": &"run",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("30_ajytf")
}, {
"duration": 1.0,
"texture": ExtResource("31_1dqd0")
}, {
"duration": 1.0,
"texture": ExtResource("32_3giai")
}, {
"duration": 1.0,
"texture": ExtResource("33_4nev7")
}, {
"duration": 1.0,
"texture": ExtResource("34_d174i")
}, {
"duration": 1.0,
"texture": ExtResource("35_vhsbn")
}],
"loop": true,
"name": &"run_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("51_kn3fp")
}, {
"duration": 1.0,
"texture": ExtResource("52_x3y66")
}, {
"duration": 1.0,
"texture": ExtResource("53_cp48a")
}],
"loop": false,
"name": &"throw_sword",
"speed": 10.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pl4gk"]
size = Vector2(17, 21)

[sub_resource type="CircleShape2D" id="CircleShape2D_gqa3b"]
radius = 15.0

[node name="Character" type="CharacterBody2D"]
collision_mask = 2
script = ExtResource("1_armaa")
_speed = 100.0

[node name="Texture" type="AnimatedSprite2D" parent="." node_paths=PackedStringArray("_character", "_attack_area_collision")]
sprite_frames = SubResource("SpriteFrames_vvw5b")
animation = &"jump"
autoplay = "idle"
script = ExtResource("19_74mvt")
_character = NodePath("..")
_attack_area_collision = NodePath("../AttackArea/Collision")

[node name="Collision" type="CollisionShape2D" parent="."]
position = Vector2(-0.5, -0.5)
shape = SubResource("RectangleShape2D_pl4gk")

[node name="Remote" type="RemoteTransform2D" parent="."]

[node name="AttackCombo" type="Timer" parent="."]
one_shot = true

[node name="AttackArea" type="Area2D" parent="."]
collision_mask = 4
script = ExtResource("55_qkq8y")
_attack_damage = 5

[node name="Collision" type="CollisionShape2D" parent="AttackArea"]
position = Vector2(24, 0)
shape = SubResource("CircleShape2D_gqa3b")
disabled = true

[connection signal="animation_finished" from="Texture" to="Texture" method="_on_animation_finished"]
[connection signal="frame_changed" from="Texture" to="Texture" method="_on_frame_changed"]
[connection signal="timeout" from="AttackCombo" to="." method="_on_attack_combo_timeout"]
[connection signal="body_entered" from="AttackArea" to="AttackArea" method="_on_body_entered"]
